## B. Эпизод 2. Скрытые дизлайки (2 балла)

В связи с тем, что на ютубе скрыли число дизлайков, Мирону необходимо понимать, насколько его творчество заходит аудитории. Данные о числе реакций обновляются не в режиме онлайн, а каждый час. При этом неизвестно, что из них лайки, а что из них дизлайки. То есть задан массив `a1, a2, …, an` — число реакций, пришедшее в каждый час.

Исполнитель уверен, что лайки и дизлайки чередуются, поэтому он считает поддержку за промежуток времени с `l`-го по `r`-й час по формуле:

a[l] - a[l+1] + a[l+2] - ... ± a[r]

Более того, он хочет смотреть, как меняется его восприятие, если в какой-то момент пришло бы другое число реакций.

### Формат ввода

Первая строка входного файла содержится натуральное число `n` (1 ≤ n ≤ 10^5) — длина массива с почасовыми реакциями.

Во второй строке записаны начальные значения элементов (неотрицательные целые числа, не превосходящие 10^4).

В третьей строке находится натуральное число `m` (1 ≤ m ≤ 10^5) — количество запросов исполнителя. В последующих `m` строках содержатся операции:

- операция изменения значения задается тремя числами `0 i j` (1 ≤ i ≤ n, 1 ≤ j ≤ 10^4). Формально, `a[i] = j`.
- операция запроса поддержки задается тремя числами `1 l r` (1 ≤ l ≤ r ≤ n).

### Формат вывода

Для каждой операции второго типа выведите на отдельной строке соответствующую знакочередующуюся сумму.

## C. А лучше там, где нас нет (1 балл)

Он побывал во многих местах. В одном невиданный рассвет, в другом — море и рубиновый закат. И он оценил каждое из мест, в `a[i]` очков. Вам нужно уметь отвечать всего лишь на два запроса:

- `set(i, x)` — присвоить `i`-му месту рейтинг `x`.
- `get(i, x)` — найти ближайшую справа (в массиве рейтинга мест) локацию от `i`-й (включая её саму) с числом очков не меньшим, чем `x`. Надо вывести её индекс.

### Формат ввода

На первой строке число мест, где был он, `n` (1 ≤ n ≤ 2 ⋅ 10^5) и количество запросов `m` (1 ≤ m ≤ 2 ⋅ 10^5).

На второй строке `n` целых чисел — массив с очками локаций `a`, они нумеруются в 1-индексации.

Следующие `m` строк содержат запросы.

Запрос типа `set`: «`0 i x`».

Запрос типа `get`: «`1 i x`».

Все числа в вводе не превосходят двухсот тысяч.

### Формат вывода

На каждой запрос типа «`get`» на отдельной строке выведите нужный индекс. Если такого `k` не существует, выведите `-1`.

## F. Перестановки (3 балла)

Вася выписал на доске в каком-то порядке все числа от 1 по `N`, каждое число ровно по одному разу. Количество чисел оказалось довольно большим, поэтому Вася не может окинуть взглядом все числа. Однако ему надо всё-таки представлять эту последовательность, поэтому он написал программу, которая отвечает на вопрос — сколько среди чисел, стоящих на позициях с `x` по `y`, по величине лежат в интервале от `k` до `l`. Сделайте то же самое.

### Формат ввода

В первой строке лежит два натуральных числа:

- `1 ≤ N ≤ 10^6` — количество чисел, которые выписал Вася,
- `1 ≤ M ≤ 10^6` — количество вопросов, которые Вася хочет задать программе.

Во второй строке дано `N` чисел — последовательность чисел, выписанных Васей.

В следующих `M` строках находятся описания вопросов. Каждая строка содержит четыре целых числа:

- `1 ≤ x ≤ y ≤ N`,
- `1 ≤ k ≤ l ≤ N`.

### Формат вывода

Выведите `M` строк, каждая должна содержать единственное число — ответ на Васин вопрос.

## G. Фенвик (2 балла)

Есть квадратная клетчатая плоскость, состоящая из `n × n` клеток (`1 ≤ n ≤ 10^3`). Изначально в каждой клетке записано значение ноль. Ваша задача — написать программу, умеющую отвечать на следующие запросы:

- **ADD x y** — увеличить значение в ячейке `(x, y)` на 1.
- **GET x1 y1 x2 y2** — вернуть сумму значений в прямоугольнике с углами в `(x1, y1)` и `(x2, y2)` соответственно.

### Формат ввода

В первой строке входного файла содержится два числа:

- `n` и `k` — размер доски и число запросов соответственно.

Следующие `k` строк содержат сами запросы. Гарантируется, что общее число запросов не превосходит `3 × 10^6`.

### Формат вывода

Для каждого запроса типа **GET** выведите в отдельной строке одно целое число — ответ на соответствующий запрос.

## K. Объединение прямоугольников (2 балла)

На плоскости задано `N` прямоугольников с вершинами в точках с целыми координатами и сторонами, параллельными осям координат. Необходимо найти площадь их объединения.

Напишите решение за `O(N log N)` или `O(N log C)`, где `C` — ограничение на координаты.

### Формат ввода

В первой строке входного файла указано число `N` (`0 ≤ N ≤ 1500`). В следующих `N` строках заданы по 4 целых числа:

- `x1`, `y1`, `x2`, `y2` — сначала координаты левого нижнего угла прямоугольника, потом правого верхнего (`0 ≤ x1 ≤ x2 ≤ 10^9`, `0 ≤ y1 ≤ y2 ≤ 10^9`). Обратите внимание, что прямоугольники могут вырождаться в отрезки и даже в точки.

### Формат вывода

В выходной файл выведите единственное число — ответ на задачу.

## L. Персистентный массив (1 балл)

Вам задана первоначальная версия массива. Требуется выполнять следующие операции над ним:

### Операции

- **create i j x**: Создать новую версию массива из `a_i`, присвоив `j`-му элементу значение `x`, остальные элементы остаются такими же, как и в `i`-й версии.
- **get i j**: Вывести значение `j`-го элемента в `i`-й версии.

### Формат ввода

1. Первая строка входных данных содержит целое число `n` (`1 ≤ n ≤ 10^5`).
2. Во второй строке заданы `n` чисел — значения элементов в первой версии массива.
3. Далее следует строка, содержащая одно целое число `m` (`1 ≤ m ≤ 10^5`) — количество запросов.
4. Далее следуют `m` запросов. Формат запросов описан в примере ввода.

Если уже созданы `k` версий массива, то очередная версия имеет номер `k + 1`. Все элементы массива — целые числа от `0` до `10^9` включительно. Массив индексирован целыми числами от `1` до `n` включительно.

### Формат вывода

Для каждого запроса типа **get** выведите соответствующий элемент.
